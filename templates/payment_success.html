{% extends "base.html" %}
{% block content %}
<div class="container text-center mt-5">
    <h1 class="text-success">Payment Successful ðŸŽ‰</h1>
    <p>Thank you for your order!</p>
    <a href="{{ url_for('home') }}" class="btn btn-primary mt-3">Return to Home</a>
    <a href="{{ url_for('invoice', order_id=order.order_id) }}" class="btn btn-primary mt-3">View Invoice</a>
    <a href="{{ url_for('download_invoice', order_id=order.order_id) }}" class="btn btn-outline-primary mt-3">Download Invoice PDF</a>

</div>
<script>
// Clean sensitive parameters from URL
if (window.location.search.includes('payment_intent_client_secret')) {
    const cleanUrl = window.location.pathname;
    window.history.replaceState({}, document.title, cleanUrl);
}
</script>
{% endblock %}