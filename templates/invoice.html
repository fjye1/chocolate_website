<div class="container mt-5">
    <div class="card p-4">
        <h2 class="mb-3">Invoice</h2>
        <p><strong>Order ID:</strong> {{ order.order_id }}</p>
        <p><strong>Date:</strong> {{ order.created_at.strftime('%b %d, %Y') }}</p>
        <p><strong>Status:</strong> {{ order.status }}</p>

        <hr>

        <h4>Shipping Address</h4>
        <p>{{ order.shipping_address.street }}<br>
            {{ order.shipping_address.city }}, {{ order.shipping_address.postcode }}</p>

        <hr>

        <h4>Items</h4>
        <table class="table">
            <thead>
            <tr>
                <th></th>
                <th>Product</th>
                <th>Qty</th>
                <th>Price</th>
                <th>Total</th>
            </tr>
            </thead>
            <tbody>
            {% for item in order.items %}
            <tr>
                <td><img src="{{ url_for('static', filename=item.product.image) }}" alt="{{ item.product.name }}"
                         style="width: 100px; height: 100px; object-fit: cover; border-radius: 5px;"></td>
                <td>{{ item.product.name }}</td>
                <td>{{ item.quantity }}</td>
                <td>£{{ item.price_at_purchase }}</td>
                <td>£{{ item.quantity * item.price_at_purchase }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>

        <div class="text-end">
            <h5>Total: £{{ order.total_amount }}</h5>
        </div>
    </div>
</div>
